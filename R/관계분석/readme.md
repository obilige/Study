# 관계분석 summary ####
t-test와 anova가 집단의 평균, 분산을 이용해 집단과 집단간의 차이를 비교한 것이라면
관계분석은 집단 내 데이터 값들의 관계를 비교, 분석해 파악하는 것이라 이해하면 된다.
    + 척도 : 연속변수 -> 연속변수(t-test, anova는 명목변수 -> 연속변수) or 질적변수 -> 질적변수

## 1. 상관분석(correlation Test)
- 연속변수 -> 연속변수
- 1:1로 서로 동등한 입장에서 관계를 분석
- 상관계수 -1~0(음의 상관관계), 0(선형관계 X), 0~1(양의 상관관계)
    + 예) 상관계수 +1에 가까운 경우는? 광고비와 매출 = 광고비가 증가하면 매출이 오를까?
    + 예) 상관계수 -1에 가까운 경우는? 운동량과 체중 = 운동 많이하면 체중은 줄어든다.
- 조심해야할 것 : 1. 이 관계가 인과관계는 아니다. 예) 아이스크림 판매량 늘어날수록 바닷가에서 사고 많이 일어나.
- 조심해야할 것 : 2. 상관분석 = 선형관계. 따라서, 상관계수가 0이라도 특정 패턴을 보이는 경우 존재. (그래프로 꼭 확인해볼 것)
- 측정방식 : 모수적인 방식(피어슨의 상관계수) // 비모수적인 방식(스피어만의 상관계수 or 켄달의 tau)
- 수학적인 관계를 판단
- 회귀분석 전에 관계여부를 파악하기 위한 단계
- 선형함수

## 2. 회귀분석 : 인과관계 파악하고 인과관계 기반으로 예측까지 하는 것이 이 회귀분석의 목표이자 방향
- 연속변수 -> 연속변수
- 인과관계(여러 개의 독립(원인)변수와 하나의 종속(결과)변수)
- 독립변수의 갯수에 따라 분석방법이 나뉜다.
    + 독립변수가 하나 : 단일 회귀 분석(실무에서 쓰지 않는다.)
    + 독립변수가 두개 이상 : 다중 회귀 분석
    + 계산은 잔차제곱의 합이 가장 작게 되는 직선을 구하는 것
- 분포에 따라
    + 정규분포 : 선형회귀분석    lm() *주가, 성적 외엔 크게 쓸 일 없어
    + 이항분포 : 로지스틱회귀분석 glm() *일반적으로 많이 쓴다. 머신러닝 메인개념
    + 똑같은 데이터로 분석 둘 다 가능. 연속적으로 파악(다음 성적은 몇점?)해야할 땐 선형회귀, 로지스틱은 둘로 나눠서판단할 때(지금 65점, 다음에 합격할까 불합격할까?)
- 조건 : plot(fit)
    + 1. 선형형 관계 : 회귀분석은 모든 분포된 데이터를 가장 잘 대표하는 회귀선을 찾는 것(lm)
    + 2. 정규분포 : 잔차들의 정규분포
    + 3. 등분산 :
    + 4. 독립성 : 변수들끼리 독립성을 가져야. 그래서, 시점 차이에 따른 분석은 어려울 수 있다.
- 다중 공선성으로 독립성을 평가하는데 이 값이 작아야 한다. 통계에선 이 값이 작은 것을 관계없는 것으로 판단
- fit = lm(fomula) -> summary(fit) -> vif(fit)



## 3.교차분석(카이제곱분석) : 질적(명목)변수 -> 질적변수
- 질적변수 -> 질적변수 : 원인, 결과 모두 질적변수
- 비율검정
- chi square test = 데이터 수(기대도수)가 충분히 많을 때 - 판단기준은 데이터테이블에 데이터쉘 갯수. 데이터가 5 이하의 데이터쉘이 전체 데이터 쉘의 20% 이하여야 한다. 만약 데이터쉘 6개일 때 데이터 값이 5 이하인 데이터쉘이 하나라면  16.6% ok! 5 이하 데이터쉘이 두개라면 33.2%로 데이터 부족이 뜬다.
- Fisher`s exact test = 데이터 수가 부족할 때
- Cochran-Amitage trend test = 명목변수가 서열변수(trend) - 등급, 서열이 원인변수인 경우를 의미.
- 기준에 따라 차이검정일수도 있고 관계검정일수도 있다.
- 일원 카이제곱(차이 검정) : 독립변수 하나(좋아하는 장소)
- 이원 카이제곱(관계 검정) : 독립변수 두개(좋아하는 장소, 관심사)